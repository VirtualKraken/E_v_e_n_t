<div class="details-wrapper">
  <mat-card *ngIf="isLocked" class="read-only-view">
    <div class="info-grid">
      <!-- <div class="info-item">
      <span class="label">Client Name</span>
      <span class="value">{{ form.get('clientName')?.value }}</span>
    </div>

    <div class="info-item">
      <span class="label">Date</span>
      <span class="value">{{ form.get('date')?.value | date:'mediumDate' }}</span>
    </div>

    <div class="info-item">
      <span class="label">Phone</span>
      <span class="value">{{ form.get('phone')?.value }}</span>
    </div>

    <div class="info-item">
      <span class="label">Venue</span>
      <span class="value">{{ form.get('venue')?.value || '--' }}</span>
    </div>
    <div class="info-item">
      <span class="label">Location</span>
      <span class="value">{{ form.get('location')?.value || '--' }}</span>
    </div>

    <div class="info-item">
      <span class="label">Entry Time</span>
      <span class="value">{{ form.get('entry')?.value || '--' }}</span>
    </div> -->

      <div class="info-item">
        <span class="label"> Details </span>

        <span class="value">
          <p>
            <span class="icon"><mat-icon>person</mat-icon></span>
            <span class="text">{{ form.get("clientName")?.value }}</span>
          </p>

          <p>
            <span class="icon"><mat-icon>phone</mat-icon></span>
            <span class="text">{{ form.get("phone")?.value }}</span>
          </p>

          <p>
            <span class="icon"><mat-icon>event</mat-icon></span>
            <span class="text"
              >{{ form.get("date")?.value | date : "mediumDate" }} |
              {{ form.get("entry")?.value }}</span
            >
          </p>

          <p>
            <span class="icon"><mat-icon>place</mat-icon></span>
            <span class="text"
              >{{ form.get("venue")?.value || "--" }},
              {{ form.get("location")?.value || "--" }}</span
            >
          </p>
        </span>
      </div>

      <div class="info-item full-width">
        <span class="label">Notes</span>
        <span class="value">{{
          form.get("notes")?.value || "No notes added."
        }}</span>
      </div>
    </div>

    <div class="actions">
      <button
        mat-stroked-button
        color="primary"
        type="button"
        (click)="unlockForm()"
      >
        <mat-icon>lock_open</mat-icon> Unlock to Edit
      </button>
    </div>
  </mat-card>

  <form [formGroup]="form" class="form" *ngIf="!isLocked">
    <mat-card>
      <mat-label> Confirmed </mat-label>
      <mat-slide-toggle formControlName="confirmed" class="mat-slide-toggle">
      </mat-slide-toggle>
    </mat-card>

    <mat-form-field appearance="outline">
      <mat-label>Date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="date" />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="form.get('date')?.hasError('required')"
        >Date is required</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Client Name</mat-label>
      <input matInput formControlName="clientName" />
      <mat-error *ngIf="form.get('clientName')?.hasError('required')"
        >Client name is required</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Phone Number</mat-label>
      <input
        matInput
        formControlName="phone"
        type="tel"
        placeholder="+91XXXXXXXXXX"
      />

      <mat-error *ngIf="form.get('phone')?.hasError('required')">
        Phone number is required
      </mat-error>

      <mat-error *ngIf="form.get('phone')?.hasError('pattern')">
        Country Code Needed!
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Venue</mat-label>
      <input matInput formControlName="venue" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Entry</mat-label>
      <mat-select formControlName="entry">
        <mat-option value="Morning">Morning</mat-option>
        <mat-option value="Noon">Noon</mat-option>
        <mat-option value="Evening">Evening</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Location</mat-label>
      <input matInput formControlName="location" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Notes</mat-label>
      <textarea matInput formControlName="notes"></textarea>
    </mat-form-field>

    <!-- toggle button for confirmed or not -->
    <br />
    <div class="actions">
      <button mat-button type="button" (click)="onCancel()">Cancel</button>
      <button mat-raised-button color="primary" (click)="submit()">Save</button>
    </div>
  </form>
</div>
