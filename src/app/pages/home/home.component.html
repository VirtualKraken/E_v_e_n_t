<div class="home-container">
  <h2>{{ user?.displayName }}</h2>
  <!-- UI card to show total events, number of confirmed events, number of not converted/confirmed events, conversion percentage -->
  <!-- <mat-card class="counts-card">
    <mat-card-content>
      <div class="counts">
        <span>Total Events</span>
        <span>20</span>
      </div>
      <div class="counts">
        <span>Confirmed</span>
        <span>15</span>
      </div>
      <div class="counts">
        <span>Leads</span>
        <span>5</span>
      </div>
      <div class="counts">
        <span>Conversion</span>
        <span>50%</span>
      </div>
    </mat-card-content>
  </mat-card> -->

  <mat-card *ngIf="!loading" class="demo-inline-calendar-card">
    <!-- <mat-calendar [dateClass]="dateClass"></mat-calendar> -->
  </mat-card>

  <div *ngIf="loading">Loading events...</div>
  <div *ngIf="!loading && groupedEvents.length === 0">No events found.</div>

  <div class="list-container" *ngFor="let group of groupedEvents">
    <h4 class="month">{{ group.month }}</h4>

    <mat-card
      class="row"
      *ngFor="let item of group.events"
      (click)="openEventDetails(item)"
      [ngClass]="{ lead: !item.event_info.confirmed }"
    >
      <span class="date">
        {{ item.event_info.function_date | date : "dd" }}
      </span>

      <span>{{ item.event_info.client_name }}</span>
      <span>{{ item.event_info.venue }}</span>
      <span>{{ item.event_info.location || "" }}</span>
    </mat-card>
  </div>

  <!-- Create Event -->
  <button mat-fab color="primary" class="fab" (click)="openEventDetails()">
    <mat-icon>add</mat-icon>
  </button>
</div>
