/* You can add global styles to this file, and also import other style files */
@use "@angular/material" as mat;

/* ============================================
   EVOLVE COLOR PALETTE
   ============================================ */
$evolve-night-body-bkg: #1e1e1e;
$evolve-night-primary-gold: #ff9100;

/* ============================================
   CSS CUSTOM PROPERTIES FOR THEMING
   ============================================ */
:root {
  --theme-background: white;
  --theme-color: black;
  --theme-color-secondary: #ba005c;
  --theme-surface: #ffffff;
  --theme-surface-variant: #f5f5f5;
  --theme-border: rgba(0, 0, 0, 0.12);
  --theme-btn-primary: #ffd9e1;
}

:root[theme="dark"] {
  --theme-background: #{$evolve-night-body-bkg};
  --theme-color: rgba(255, 255, 255, 0.87);
  --theme-color-secondary: #ffb787;
  --theme-surface: #2d2d2d;
  --theme-surface-variant: #383838;
  --theme-border: rgba(255, 255, 255, 0.12);
  --theme-primary: #{$evolve-night-primary-gold};
  --theme-btn-primary: #723600;
}

/* ============================================
   LIGHT THEME CONFIGURATION (Material 3)
   ============================================ */
$light-theme: mat.define-theme(
  (
    color: (
      theme-type: light,
      primary: mat.$rose-palette,
    ),
    typography: (
      brand-family: "Quicksand, sans-serif",
      plain-family: "Quicksand, sans-serif",
    ),
  )
);

/* ============================================
   DARK THEME CONFIGURATION (Material 3)
   ============================================ */
$dark-theme: mat.define-theme(
  (
    color: (
      theme-type: dark,
      primary: mat.$orange-palette,
    ),
    typography: (
      brand-family: "Quicksand, sans-serif",
      plain-family: "Quicksand, sans-serif",
    ),
  )
);

/* ============================================
   APPLY THEMES
   ============================================ */

/* Default Light Theme */
:root {
  @include mat.all-component-themes($light-theme);
  --theme-scrollbar-thumb: rgba(0, 0, 0, 0.2);
  --theme-scrollbar-thumb-hover: rgba(0, 0, 0, 0.4);
}

/* Dark Theme - Applied when theme="dark" attribute is present */
:root[theme="dark"] {
  @include mat.all-component-colors($dark-theme);

  /* Override primary color to use custom gold */
  --mat-sys-primary: #{$evolve-night-primary-gold};
  --mat-sys-on-primary: #000000;
  --mdc-filled-button-container-color: #{$evolve-night-primary-gold};
  --mdc-protected-button-container-color: #{$evolve-night-primary-gold};
  --theme-scrollbar-thumb: rgba(255, 255, 255, 0.2);
  --theme-scrollbar-thumb-hover: rgba(255, 255, 255, 0.4);
}

/* ============================================
   GLOBAL STYLES
   ============================================ */
html {
  margin: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--theme-scrollbar-thumb) transparent;
}
html,
body {
  font-size: 14px; /* Sets the root scaling factor */
  max-width: 800px;
background-image: url("https://www.transparenttextures.com/patterns/xv.png");
/* This is mostly intended for prototyping; please download the pattern and re-host for production environments. Thank you! */
}

body {
  margin: 0;
  font-family: "Quicksand", sans-serif !important;
  background-color: var(--theme-background);
  color: var(--theme-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}
/* ============================================
   IOS ZOOM FIX - Prevent automatic zoom on input focus
   ============================================ */
input,
textarea,
select,
.mat-mdc-input-element,
.mat-mdc-form-field input,
.mat-mdc-select,
.mat-mdc-text-field-wrapper {
  font-size: 16px !important;
}

/* Ensure form field labels also scale appropriately */
.mat-mdc-form-field-label,
.mat-mdc-floating-label {
  font-size: 16px !important;
}

/* Prevent iOS text size adjustment on orientation change */
body {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: normal;
}

/* ============================================
   MATERIAL COMPONENT OVERRIDES
   ============================================ */
/* ============================================
   MATERIAL COMPONENT OVERRIDES
   ============================================ */

.mat-drawer-container {
  height: 100dvh;
  position: relative;
}

.mat-drawer-content {
  background-color: var(--theme-background) !important;
  transition: background-color 0.3s ease;
  /* Remove the height: 100dvh !important */
}

/* ============================================
   DARK THEME CUSTOM OVERRIDES
   ============================================ */
   mat-toolbar {
     background-color: var(--theme-background) !important;
     color: var(--theme-color);
   }
:root[theme="dark"] {
  /* Toolbar dark mode */

  /* Card dark mode */
  mat-card {
    background-color: var(--theme-surface);
    color: var(--theme-color);
  }

  /* Sidenav dark mode */
  mat-sidenav {
    background-color: var(--theme-surface);
    color: var(--theme-color);
  }

  /* Form fields dark mode */
  .mat-mdc-form-field {
    color: var(--theme-color);
  }

  /* Divider dark mode */
  mat-divider {
    border-top-color: var(--theme-border);
  }

  /* Dialog dark mode */
  .mat-mdc-dialog-container {
    // background-color: var(--theme-surface);
    // color: var(--theme-color);
  }

  /* Menu dark mode */
  .mat-mdc-menu-panel {
    background-color: var(--theme-surface);
    color: var(--theme-color);
  }

  /* Buttons with primary color */
  .mat-mdc-raised-button.mat-primary,
  .mat-mdc-unelevated-button.mat-primary,
  .mat-mdc-fab.mat-primary,
  .mat-mdc-mini-fab.mat-primary {
    --mdc-filled-button-container-color: var(--theme-btn-primary) !important;
    --mdc-filled-button-label-text-color: #000000;
  }

  /* Icon buttons */
  .mat-mdc-icon-button.mat-primary {
    --mat-icon-button-state-layer-color: #{$evolve-night-primary-gold};
    --mat-icon-button-ripple-color: rgba(255, 145, 0, 0.1);
  }

  /* Text buttons */
  .mat-mdc-button.mat-primary {
    --mdc-text-button-label-text-color: #{$evolve-night-primary-gold};
  }

  /* Slider */
  .mat-mdc-slider.mat-primary {
    --mdc-slider-handle-color: #{$evolve-night-primary-gold};
    --mdc-slider-active-track-color: #{$evolve-night-primary-gold};
  }

  /* Progress bar */
  .mat-mdc-progress-bar.mat-primary {
    --mdc-linear-progress-active-indicator-color: #{$evolve-night-primary-gold};
  }
}

/* Webkit (Chrome, Edge, Safari) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px; /* Height for horizontal scrollbars */
}

::-webkit-scrollbar-track {
  background: transparent;
  margin: 4px;
}

::-webkit-scrollbar-thumb {
  background-color: var(--theme-scrollbar-thumb);
  border-radius: 4px;

  /* Creates a small gap around the thumb for a "floating" look */
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--theme-scrollbar-thumb-hover);

  /* Optional: Use your primary brand color on hover if preferred */
  /* background-color: var(--theme-btn-primary); */
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Fix for Material Outline fields */
::ng-deep .mdc-notched-outline__notch {
  border-top: none !important;
}

.custom-offset-snackbar {
  // Move the snackbar container up by 100px
  margin-bottom: 60px !important;
}
